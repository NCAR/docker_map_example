<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map Example</title>

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='map/map.css') }}">

    <style>
        /* Make sure the map container is visible */
        #map {
            height: 500px;
            width: 100%;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        h1 {
            text-align: center;
            margin: 1em 0;
        }
    </style>
</head>
<body>

<h1>Map Example</h1>
<div id="openStreetMap"></div>

<!-- Leaflet JS -->
<script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
></script>

<!-- Custom JS -->
<script src="{{ url_for('static', filename='openStreetMap/openStreetMap.js') }}"></script>

<script>
    // Initialize the map in case map.js is empty or fails
    var map = L.map('openStreetMap').setView([39.8283, -98.5795], 4); // USA center

    // Base tiles
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(openStreetMap);

    // Optional: load GeoJSON data from Flask
    {% if geojson_url %}
    fetch("{{ geojson_url }}")
        .then(response => response.json())
        .then(data => {
            L.geoJSON(data).addTo(openStreetMap);
        })
        .catch(err => console.error("Failed to load GeoJSON:", err));
    {% endif %}
</script>

</body>
</html>


<!--
<!DOCTYPE html>
<html>
<head>
  <title>Map Example</title>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <link rel="stylesheet" href="{{ url_for('static', filename='map/map.css') }}">

</head>
<body>

<h1>Map Example</h1>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="{{ url_for('static', filename='map/map.js') }}"></script>


</body>
</html>
-->


<!--
<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ERA5 2m Temperature Map</title>
<link rel="stylesheet" href="/styles.css" />
</head>
<body>
<main class="container">
<h1>ERA5 2m Temperature (VAR_2T)</h1>
<p>Click the button to fetch a server-rendered PNG of VAR_2T for one timestep.</p>


<div class="controls">
<label for="tIndex">Time index:</label>
<input id="tIndex" type="number" min="0" value="0" />
<button id="btn">Generate Plot</button>
</div>


<div class="preview">
<img id="plot" alt="Plot will appear here" />
</div>
</main>


<script src="/main.js"></script>
</body>
</html>
-->
